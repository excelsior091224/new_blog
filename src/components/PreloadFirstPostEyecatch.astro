---
const { posts } = Astro.props;
const href_list = [
  `?fm=webp&fit=crop&crop=top&w=640&h=320`,
  `?fm=webp&fit=crop&crop=top&w=750&h=375`,
  `?fm=webp&fit=crop&crop=top&w=828&h=414`,
  `?fm=webp&fit=crop&crop=top&w=1080&h=540`,
  `?fm=webp&fit=crop&crop=top&w=1200&h=600`,
  `?fm=webp&fit=crop&crop=top&w=1920&h=960`,
  `?fm=webp&fit=crop&crop=top&w=2048&h=1024`,
  `?fm=webp&fit=crop&crop=top&w=3840&h=1920`,
];
---

{
  posts.map((post: any, index: number) =>
    post.eyecatch && (index === 0 || index === 1)
      ? href_list.map((href_elm) => 
          <link rel="preload" as="image" href={post.eyecatch.url + href_elm} />
        )
      : null
  )
}
